<!DOCTYPE html>
<html>
  <head>
    <title>Socket.IO chat</title>
 <!-- <img src="./images/logo.png" style="margin-left: auto; margin-right: auto;"  width="200" height="200" > -->
    <style>
      body { margin: 0; padding-bottom: 3rem; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }

      #form { background: rgba(0, 0, 0, 0.15); padding: 0.25rem; position: fixed; bottom: 0; left: 0; right: 0; display: flex; height: 3rem; box-sizing: border-box; backdrop-filter: blur(10px); }
      #input { border: none; padding: 0 1rem; flex-grow: 1; border-radius: 2rem; margin: 0.25rem; }
      #input:focus { outline: none; }
      #form > button { background: #333; border: none; padding: 0 1rem; margin: 0.25rem; border-radius: 3px; outline: none; color: #fff; }

      #messages { list-style-type: none; margin: 0; padding: 0; }
      #messages > li { padding: 0.5rem 1rem; }
      #messages > li:nth-child(odd) { background: #efefef; }
      tr {background-color: white;}
    </style>
    <link rel="stylesheet" href="./index.css">
  </head>
  <script type="text/javascript" src="shield.json"></script>
  <script type="text/javascript" src="index.js"></script>
  <body style="background-color: black;" >
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <form action="">
      <label style = "float:right"  for="Generation">Generation:</label>
      <select name="Generation" id="Generation">
        <option value="sw">Sword</option>
        <option value="sh">Shield</option>
      </select>
      <br><br>
      <!-- <input type="submit" value="Submit"> -->
    </form>
    <button type="button" onclick="gen()">Generate New</button>
    <table class="center" style="border: 10px solid gold; float:inline-end; margin-left: auto; margin-right: auto;">
      <tr>
        <th>B</th>
        <th>I</th>
        <th>N</th>
        <th>G</th>
        <th>O</th>  
      </tr>
      <tr>
        <td><img src="https://www.serebii.net/pokemon/art/001.png" id="tile1" width="200" height="200" onclick="this.style = 'background-color: red;'"></td>
        <td><img src="https://www.serebii.net/pokemon/art/002.png" id="tile2" width="200" height="200" onclick="this.style = 'background-color: red;'"></td>
        <td><img src="https://www.serebii.net/pokemon/art/003.png" id="tile3" width="200" height="200" onclick="this.style = 'background-color: red;'"></td>
        <td><img src="https://www.serebii.net/pokemon/art/004.png" id="tile4" width="200" height="200" onclick="this.style = 'background-color: red;'"></td>
        <td><img src="https://www.serebii.net/pokemon/art/005.png" id="tile5" width="200" height="200" onclick="this.style = 'background-color: red;'"></td>
      </tr>
      <tr>
        <td><img src="https://www.serebii.net/pokemon/art/006.png" id="tile6" width="200" height="200" onclick="this.style = 'background-color: red;'"></td>
        <td><img src="https://www.serebii.net/pokemon/art/007.png" id="tile7" width="200" height="200" onclick="this.style = 'background-color: red;'"></td>
        <td><img src="https://www.serebii.net/pokemon/art/008.png" id="tile8" width="200" height="200" onclick="this.style = 'background-color: red;'"></td>
        <td><img src="https://www.serebii.net/pokemon/art/009.png" id="tile9" width="200" height="200" onclick="this.style = 'background-color: red;'"></td>
        <td><img src="https://www.serebii.net/pokemon/art/010.png" id="tile10" width="200" height="200" onclick="this.style = 'background-color: red;'"></td>
      </tr>
      <tr>
        <td><img src="https://www.serebii.net/pokemon/art/011.png" id="tile11" width="200" height="200" onclick="this.style = 'background-color: red;'"></td>
        <td><img src="https://www.serebii.net/pokemon/art/012.png" id="tile12" width="200" height="200" onclick="this.style = 'background-color: red;'"></td>
        <td><img src="https://www.serebii.net/pokemon/art/013.png" id="tile13" width="200" height="200" onclick="this.style = 'background-color: red;'"></td>
        <td><img src="https://www.serebii.net/pokemon/art/014.png" id="tile14" width="200" height="200" onclick="this.style = 'background-color: red;'"></td>
        <td><img src="https://www.serebii.net/pokemon/art/015.png" id="tile15" width="200" height="200" onclick="this.style = 'background-color: red;'"></td>
      </tr>
      <tr>
        <td><img src="https://www.serebii.net/pokemon/art/016.png" id="tile16" width="200" height="200" onclick="this.style = 'background-color: red;'"></td>
        <td><img src="https://www.serebii.net/pokemon/art/017.png" id="tile17" width="200" height="200" onclick="this.style = 'background-color: red;'"></td>
        <td><img src="https://www.serebii.net/pokemon/art/018.png" id="tile18" width="200" height="200" onclick="this.style = 'background-color: red;'"></td>
        <td><img src="https://www.serebii.net/pokemon/art/019.png" id="tile19" width="200" height="200" onclick="this.style = 'background-color: red;'"></td>
        <td><img src="https://www.serebii.net/pokemon/art/020.png" id="tile20" width="200" height="200" onclick="this.style = 'background-color: red;'"></td>
      </tr>
      <tr>
        <td><img src="https://www.serebii.net/pokemon/art/021.png" id="tile21" width="200" height="200" onclick="this.style = 'background-color: red;'"></td>
        <td><img src="https://www.serebii.net/pokemon/art/022.png" id="tile22" width="200" height="200" onclick="this.style = 'background-color: red;'"></td>
        <td><img src="https://www.serebii.net/pokemon/art/023.png" id="tile23" width="200" height="200" onclick="this.style = 'background-color: red;'"></td>
        <td><img src="https://www.serebii.net/pokemon/art/024.png" id="tile24" width="200" height="200" onclick="this.style = 'background-color: red;'"></td>
        <td><img src="https://www.serebii.net/pokemon/art/025.png" id="tile25" width="200" height="200" onclick="this.style = 'background-color: red;'"></td>
      </tr>
    </table>
    
    <!-- <form action="">
      <label for="Weather">Weather:</label>
      <select name="Weather" id="Weather">
        <option value="anyW">Any</option>
        <option value="allW">All Weather</option>
        <option value="normalW">Normal</option>
        <option value="cloudyW">Cloudy</option>
        <option value="fogW">Fog</option>
        <option value="hailW">Hail</option>
        <option value="rainW">Rain</option>
        <option value="sandW">Sandstorm</option>
        <option value="snowW">Snow</option>
        <option value="isnowW">Snowstorm</option>
        <option value="isunW">Intense Sun</option>
        <option value="sunW">Sunny</option>
        <option value="thunderW">Thunderstorms</option>
      </select> -->
      <br><br>
      <!-- <input type="submit" value="Submit"> -->
    </form>
    
  </body>
  <body>
    <ul id="messages"></ul>
    <form id="form" action="">
      <input id="input" autocomplete="off" /><button>Send</button>
    </form>
    <script src="/socket.io/socket.io.js"></script>

    
    <script>
      
      
      var socket = io();
        var tiles = document.getElementById('tile1')
      var messages = document.getElementById('messages');
      var form = document.getElementById('form');
      var input = document.getElementById('input');
      var max = 50;
      const base = "https://www.serebii.net/pokemon/art/";
      let boardSize = 25;
      var board = [];
    
      function genboard() {
        console.log("got to");
        while(boardSize != 0) {
          console.log("got to");
            board.push(document.getElementById('tile'+(boardSize).toString()));
            boardSize -= 1;
            console.log("got to");
        };
        boardSize = 25;
    };
      function getRandomInt(max) {
  return Math.floor(Math.random() * max);
};


      function gen() {
     
        
        genboard();
        currentW = document.getElementById('Weather');
        versionE = document.getElementById('Generation');

          for (var poke of board){
            poke.style = 'background-color: white;'
            if (versionE.value == "sh"){
            num = getRandomInt(1100);
            poke.src = base + shieldD[num].Dex  + '.png';
          }
            else{
              num = getRandomInt(1900);
            poke.src = base + swordD[num].Dex  + '.png';
            }
            // if (currentW.value != 'anyW'){
            //     while(currentW.value != ){}
            // }
            
          }

        }
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        if (input.value) {
          socket.emit('chat message', input.value);
          input.value = '';
        }
      });




      socket.on('chat message', function(msg) {
        var item = document.createElement('li');
        item.textContent = msg;
        messages.appendChild(item);
        window.scrollTo(0, document.body.scrollHeight);
      });
    </script>
  </body>
</html>